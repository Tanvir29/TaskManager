<ui:composition template="../template/layout.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core">

    <ui:param name="title" value="New Project" />
    <ui:define name="content">
        <h1>Project Statistics</h1>

        <h:panelGrid columns="2">
            <h:outputLabel value="Total Projects:"/>
            <h:outputText value="#{projectStatsBean.totalProjects}"/>

            <h:outputLabel value="Total Completed Projects:"/>
            <h:outputText value="#{projectStatsBean.totalCompletedProjects}"/>

            <h:outputLabel value="Total Running Projects:"/>
            <h:outputText value="#{projectStatsBean.totalRunningProjects}"/>

            <h:outputLabel value="Total Paused Projects:"/>
            <h:outputText value="#{projectStatsBean.totalPausedProjects}"/>

            <h:outputLabel value="Total Cancelled Projects:"/>
            <h:outputText value="#{projectStatsBean.totalCancelledProjects}"/>

            <h:outputLabel value="Total Cancelled Projects:"/>
            <h:outputText value="#{projectStatsBean.totalTodoProjects}"/>
        </h:panelGrid>

        <br/>
        
        <h2>Project Details</h2>
        <h:dataTable value="#{projectStatsBean.projectStats}" var="projectData">
            <h:column>
                <f:facet name="header">Project Name</f:facet>
                <h:outputText value="#{projectData.key.name}" />
            </h:column>

            <h:column>
                <f:facet name="header">Total Tasks</f:facet>
                <h:outputText value="#{projectData.value['totalTasks']}" />
            </h:column>

            <h:column>
                <f:facet name="header">Overdue Tasks</f:facet>
                <h:outputText value="#{projectData.value['overdueTasks']}" />
            </h:column>

            <h:column>
                <f:facet name="header">Completed Tasks</f:facet>
                <h:outputText value="#{projectData.value['completedTasks']}" />
            </h:column>

            <h:column>
                <f:facet name="header">Cancelled Tasks</f:facet>
                <h:outputText value="#{projectData.value['cancelledTasks']}" />
            </h:column>

            <h:column>
                <f:facet name="header">Ongoing Tasks</f:facet>
                <h:outputText value="#{projectData.value['inProgressTasks']}" />
            </h:column>
        </h:dataTable>
    </ui:define>
</ui:composition>


